@model Carware.ViewModels.CarViewModel
@{
    ViewBag.Title = "Add Car";
}

<h2 class="d-inline ml-3">Add a new Car <i class="fas fa-car"></i></h2>

@using (Html.BeginForm("Create", "Car", FormMethod.Post, new { id = "form", @class = "ml-3", style = "width:50%;" }))
{
    @Html.AntiForgeryToken()

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <div class="mt-5 form-group">
        @Html.LabelFor(d => d.Make, "Make")
        @Html.TextBoxFor(d => d.Make, new { @class = "form-control", autofocus = "autofocus", })
        @Html.ValidationMessageFor(d => d.Make, null, new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(d => d.Model, "Model")
        @Html.TextBoxFor(d => d.Model, new { @class = "form-control", autofocus = "autofocus", })
        @Html.ValidationMessageFor(d => d.Model, null, new { @class = "text-danger" })
    </div>
    <div class="form-group">
        @Html.LabelFor(d => d.Year, "Year")
        @Html.TextBoxFor(d => d.Year, new { @class = "form-control", type = "number", autofocus = "autofocus", @placeholder = "For ex. 2017", value = " " })
        @Html.ValidationMessageFor(d => d.Year, null, new { @class = "text-danger" })
    </div>


    <div class="form-group">
        @Html.LabelFor(d => d.PurchaseDate, "Purchase Date")
        @Html.TextBoxFor(d => d.PurchaseDate, new { @class = "form-control datePickrBackground", id = "datePicker", autofocus = "autofocus" })
        @Html.ValidationMessageFor(d => d.PurchaseDate, null, new { @class = "text-danger" })
    </div>
    <div class="form-group">
        @Html.LabelFor(d => d.PurchasePrice, "Purchase Price")
        @Html.TextBoxFor(d => d.PurchasePrice, new { @class = "form-control", type = "number", autofocus = "autofocus" })
        @Html.ValidationMessageFor(d => d.PurchasePrice, null, new { @class = "text-danger" })
    </div>
    <div class="form-group">
        @Html.LabelFor(d => d.IdealSellingPrice, "Ideal Selling Price")
        @Html.TextBoxFor(d => d.IdealSellingPrice, new { @class = "form-control", type = "number", autofocus = "autofocus" })
        @Html.ValidationMessageFor(d => d.IdealSellingPrice, null, new { @class = "text-danger" })
    </div>
    <div class="form-group">
        @Html.LabelFor(d => d.MaxDiscount, "Maximum discount")
        @Html.TextBoxFor(d => d.MaxDiscount, new { @class = "form-control", type = "number", autofocus = "autofocus" })
        @Html.ValidationMessageFor(d => d.MaxDiscount, null, new { @class = "text-danger" })
    </div>

    <button type="submit" class="btn btn-primary mr-2">Add</button>
    @Html.ActionLink("Cancel", "Index", "Car", null, new { @class = "btn btn-secondary" })
}
@section Scripts{
    <script src="/lib/flatpickr/flatpickr.min.js"></script>
    <link href="/lib/flatpickr/flatpickr.min.css" rel="stylesheet" />
    <script>

        let datePicker;
        $(document).ready(function () {
            datePicker = flatpickr("#datePicker", {
                altInput: true,
                defaultDate: "today",
                altFormat: "F j, Y",
                dateFormat: "Y-m-d",
            });
        })
    </script>
}